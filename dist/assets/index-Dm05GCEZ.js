(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function*E(m){const e=[...m],t=e.length;for(let n=0;n<t-1;n++)for(let r=0;r<t-n-1;r++)yield{array:[...e],comparing:[r,r+1],swapping:[],sorted:Array.from({length:t-n},(s,i)=>t-1-i)},e[r]>e[r+1]&&([e[r],e[r+1]]=[e[r+1],e[r]],yield{array:[...e],comparing:[],swapping:[r,r+1],sorted:Array.from({length:t-n},(s,i)=>t-1-i)});yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(n,r)=>r)}}function*V(m){const e=[...m],t=e.length;for(let n=0;n<t-1;n++){let r=n;for(let s=n+1;s<t;s++)yield{array:[...e],comparing:[r,s],swapping:[],sorted:Array.from({length:n},(i,a)=>a)},e[s]<e[r]&&(r=s);r!==n?([e[n],e[r]]=[e[r],e[n]],yield{array:[...e],comparing:[],swapping:[n,r],sorted:Array.from({length:n+1},(s,i)=>i)}):yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:n+1},(s,i)=>i)}}yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(n,r)=>r)}}function*_(m){const e=[...m],t=e.length;for(let n=1;n<t;n++){const r=e[n];let s=n-1;for(;s>=0&&e[s]>r;)yield{array:[...e],comparing:[s,s+1],swapping:[],sorted:Array.from({length:n},(i,a)=>a)},e[s+1]=e[s],yield{array:[...e],comparing:[],swapping:[s,s+1],sorted:Array.from({length:n},(i,a)=>a)},s--;e[s+1]!==r&&(e[s+1]=r,yield{array:[...e],comparing:[],swapping:[s+1],sorted:Array.from({length:n+1},(i,a)=>a)})}yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(n,r)=>r)}}function*F(m){const e=[...m],t=new Set;function*n(i,a){if(i<a){const l=yield*s(i,a);t.add(l),yield*n(i,l-1),yield*n(l+1,a)}else i===a&&t.add(i)}function r(i,a){const l=Math.floor((i+a)/2),p=e[i],g=e[l],c=e[a];return p<=g&&g<=c||c<=g&&g<=p?l:g<=p&&p<=c||c<=p&&p<=g?i:a}function*s(i,a){const l=r(i,a);l!==a&&([e[l],e[a]]=[e[a],e[l]],yield{array:[...e],comparing:[],swapping:[l,a],sorted:Array.from(t)});const p=e[a];let g=i-1;for(let c=i;c<a;c++)yield{array:[...e],comparing:[c,a],swapping:[],sorted:Array.from(t)},e[c]<p&&(g++,g!==c&&([e[g],e[c]]=[e[c],e[g]],yield{array:[...e],comparing:[],swapping:[g,c],sorted:Array.from(t)}));return[e[g+1],e[a]]=[e[a],e[g+1]],yield{array:[...e],comparing:[],swapping:[g+1,a],sorted:Array.from(t)},g+1}yield*n(0,e.length-1),yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:e.length},(i,a)=>a)}}const L=new URL("data:video/mp2t;base64,aW1wb3J0IHR5cGUgeyBTb3J0U3RlcCB9IGZyb20gJy4uL2FsZ29yaXRobXMvdHlwZXMnOwppbXBvcnQgeyBxdWlja1NvcnQgfSBmcm9tICcuLi9hbGdvcml0aG1zL3F1aWNrLXNvcnQnOwoKaW50ZXJmYWNlIFF1aWNrU29ydFdvcmtlclJlcXVlc3QgewogIHR5cGU6ICdzdGFydCc7CiAgYXJyYXk6IG51bWJlcltdOwogIGNodW5rU2l6ZT86IG51bWJlcjsKfQoKdHlwZSBRdWlja1NvcnRXb3JrZXJSZXNwb25zZSA9CiAgfCB7IHR5cGU6ICdzdGVwcyc7IHN0ZXBzOiBTb3J0U3RlcFtdIH0KICB8IHsgdHlwZTogJ2RvbmUnIH0KICB8IHsgdHlwZTogJ2Vycm9yJzsgbWVzc2FnZTogc3RyaW5nIH07Cgpjb25zdCBERUZBVUxUX0NIVU5LX1NJWkUgPSA5NjsKCmNvbnN0IHBvc3RSZXNwb25zZSA9IChyZXNwb25zZTogUXVpY2tTb3J0V29ya2VyUmVzcG9uc2UpOiB2b2lkID0+IHsKICBzZWxmLnBvc3RNZXNzYWdlKHJlc3BvbnNlKTsKfTsKCmNvbnN0IHJ1blF1aWNrU29ydCA9IChhcnJheTogbnVtYmVyW10sIGNodW5rU2l6ZTogbnVtYmVyKTogdm9pZCA9PiB7CiAgY29uc3QgZ2VuZXJhdG9yID0gcXVpY2tTb3J0KGFycmF5KTsKICBsZXQgYmF0Y2g6IFNvcnRTdGVwW10gPSBbXTsKCiAgY29uc3QgZmx1c2ggPSAoKTogdm9pZCA9PiB7CiAgICBpZiAoYmF0Y2gubGVuZ3RoID4gMCkgewogICAgICBwb3N0UmVzcG9uc2UoeyB0eXBlOiAnc3RlcHMnLCBzdGVwczogYmF0Y2ggfSk7CiAgICAgIGJhdGNoID0gW107CiAgICB9CiAgfTsKCiAgdHJ5IHsKICAgIGZvciAoY29uc3Qgc3RlcCBvZiBnZW5lcmF0b3IpIHsKICAgICAgYmF0Y2gucHVzaChzdGVwKTsKICAgICAgaWYgKGJhdGNoLmxlbmd0aCA+PSBjaHVua1NpemUpIHsKICAgICAgICBmbHVzaCgpOwogICAgICB9CiAgICB9CiAgICBmbHVzaCgpOwogICAgcG9zdFJlc3BvbnNlKHsgdHlwZTogJ2RvbmUnIH0pOwogIH0gY2F0Y2ggKGVycikgewogICAgY29uc3QgbWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnVW5rbm93biB3b3JrZXIgZXJyb3InOwogICAgcG9zdFJlc3BvbnNlKHsgdHlwZTogJ2Vycm9yJywgbWVzc2FnZSB9KTsKICB9Cn07CgpzZWxmLm9ubWVzc2FnZSA9IChldmVudDogTWVzc2FnZUV2ZW50PFF1aWNrU29ydFdvcmtlclJlcXVlc3Q+KTogdm9pZCA9PiB7CiAgY29uc3QgZGF0YSA9IGV2ZW50LmRhdGE7CiAgaWYgKGRhdGE/LnR5cGUgIT09ICdzdGFydCcpIHsKICAgIHJldHVybjsKICB9CgogIGNvbnN0IGNodW5rU2l6ZSA9IGRhdGEuY2h1bmtTaXplICYmIGRhdGEuY2h1bmtTaXplID4gMCA/IGRhdGEuY2h1bmtTaXplIDogREVGQVVMVF9DSFVOS19TSVpFOwogIGNvbnN0IGFycmF5Q29weSA9IFsuLi5kYXRhLmFycmF5XTsKICBydW5RdWlja1NvcnQoYXJyYXlDb3B5LCBjaHVua1NpemUpOwp9Owo=",import.meta.url),G=96;async function*P(m){const e=new Worker(L,{type:"module"}),t=[];let n=!1,r=null,s=null;const i=()=>{s&&(s(),s=null)};e.onmessage=l=>{const p=l.data;if(p.type==="steps"){t.push(...p.steps),i();return}if(p.type==="done"){n=!0,i();return}p.type==="error"&&(r=new Error(p.message||"Quick sort worker error"),n=!0,i())},e.onerror=l=>{r=new Error(l.message||"Quick sort worker error"),n=!0,i()},e.postMessage({type:"start",array:m,chunkSize:G});const a=async()=>{t.length>0||n||await new Promise(l=>{if(t.length>0||n){l();return}s=l})};try{for(;;){if(r)throw r;if(t.length===0&&(await a(),t.length===0&&n))break;const l=t.shift();l&&(yield l)}}finally{e.terminate()}}function*H(m){const e=[...m],t=new Set;function*n(s,i){if(s>=i)return;const a=Math.floor((s+i)/2);yield*n(s,a),yield*n(a+1,i),yield*r(s,a,i)}function*r(s,i,a){const l=e.slice(s,i+1),p=e.slice(i+1,a+1);let g=0,c=0,o=s;for(;g<l.length&&c<p.length;)yield{array:[...e],comparing:[s+g,i+1+c],swapping:[],sorted:Array.from(t)},l[g]<=p[c]?(e[o]=l[g],g++):(e[o]=p[c],c++),yield{array:[...e],comparing:[],swapping:[o],sorted:Array.from(t)},o++;for(;g<l.length;)e[o]=l[g],yield{array:[...e],comparing:[],swapping:[o],sorted:Array.from(t)},g++,o++;for(;c<p.length;)e[o]=p[c],yield{array:[...e],comparing:[],swapping:[o],sorted:Array.from(t)},c++,o++;if(a-s+1===e.length)for(let d=s;d<=a;d++)t.add(d)}yield*n(0,e.length-1),yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:e.length},(s,i)=>i)}}function*Z(m){const e=[...m],t=e.length,n=new Set;function*r(s,i){let a=i;const l=2*i+1,p=2*i+2;l<s&&(yield{array:[...e],comparing:[a,l],swapping:[],sorted:Array.from(n)},e[l]>e[a]&&(a=l)),p<s&&(yield{array:[...e],comparing:[a,p],swapping:[],sorted:Array.from(n)},e[p]>e[a]&&(a=p)),a!==i&&([e[i],e[a]]=[e[a],e[i]],yield{array:[...e],comparing:[],swapping:[i,a],sorted:Array.from(n)},yield*r(s,a))}for(let s=Math.floor(t/2)-1;s>=0;s--)yield*r(t,s);for(let s=t-1;s>0;s--)[e[0],e[s]]=[e[s],e[0]],yield{array:[...e],comparing:[],swapping:[0,s],sorted:Array.from(n)},n.add(s),yield*r(s,0);n.add(0),yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(s,i)=>i)}}function*W(m){const e=[...m],t=e.length;let n=1;for(;n<t;)n*=2;const r=Math.max(...e)+1;for(;e.length<n;)e.push(r);function*s(a,l,p){if(l>1){const g=Math.floor(l/2);for(let c=a;c<a+g;c++)c+g<e.length&&(yield{array:[...e],comparing:[c,c+g],swapping:[],sorted:[]},(p?e[c]>e[c+g]:e[c]<e[c+g])&&([e[c],e[c+g]]=[e[c+g],e[c]],yield{array:[...e],comparing:[],swapping:[c,c+g],sorted:[]}));yield*s(a,g,p),yield*s(a+g,g,p)}}function*i(a,l,p){if(l>1){const g=Math.floor(l/2);yield*i(a,g,!0),yield*i(a+g,g,!1),yield*s(a,l,p)}}for(yield*i(0,n,!0);e.length>t;)e.pop();yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:e.length},(a,l)=>l)}}async function*q(m){const e=[...m],t=e.length;let n=1;for(;n<t;)n*=2;const r=Math.max(...e)+1;for(;e.length<n;)e.push(r);async function*s(a,l,p){if(l>1){const g=Math.floor(l/2),c=[],o=[];for(let d=a;d<a+g;d++)d+g<e.length&&c.push(d,d+g);c.length>0&&(yield{array:[...e],comparing:c,swapping:[],sorted:[]});for(let d=a;d<a+g;d++)d+g<e.length&&(p?e[d]>e[d+g]:e[d]<e[d+g])&&([e[d],e[d+g]]=[e[d+g],e[d]],o.push(d,d+g));o.length>0&&(yield{array:[...e],comparing:[],swapping:o,sorted:[]}),yield*s(a,g,p),yield*s(a+g,g,p)}}async function*i(a,l,p){if(l>1){const g=Math.floor(l/2);yield*i(a,g,!0),yield*i(a+g,g,!1),yield*s(a,l,p)}}for(yield*i(0,n,!0);e.length>t;)e.pop();yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:e.length},(a,l)=>l)}}function*K(m){const e=[...m],t=e.length;let n=Math.floor(t/2);for(;n>0;){for(let r=n;r<t;r++){const s=e[r];let i=r;for(;i>=n&&e[i-n]>s;)yield{array:[...e],comparing:[i-n,i],swapping:[],sorted:[]},e[i]=e[i-n],yield{array:[...e],comparing:[],swapping:[i-n,i],sorted:[]},i-=n;e[i]!==s&&(e[i]=s,yield{array:[...e],comparing:[],swapping:[i],sorted:[]})}n=Math.floor(n/2)}yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(r,s)=>s)}}function*X(m){const e=[...m],t=e.length,n=1.3;let r=t,s=!0;for(;r>1||s;){r=Math.floor(r/n),r<1&&(r=1),s=!1;for(let i=0;i+r<t;i++){const a=i+r;yield{array:[...e],comparing:[i,a],swapping:[],sorted:[]},e[i]>e[a]&&([e[i],e[a]]=[e[a],e[i]],s=!0,yield{array:[...e],comparing:[],swapping:[i,a],sorted:[]})}}yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(i,a)=>a)}}function*Y(m){const e=[...m],t=e.length;if(t<=1){yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(i,a)=>a)};return}let n=0,r=t-1,s=!0;for(;s;){s=!1;for(let i=n;i<r;i++)yield{array:[...e],comparing:[i,i+1],swapping:[],sorted:[]},e[i]>e[i+1]&&([e[i],e[i+1]]=[e[i+1],e[i]],s=!0,yield{array:[...e],comparing:[],swapping:[i,i+1],sorted:[]});if(!s)break;s=!1,r--;for(let i=r-1;i>=n;i--)yield{array:[...e],comparing:[i,i+1],swapping:[],sorted:[]},e[i]>e[i+1]&&([e[i],e[i+1]]=[e[i+1],e[i]],s=!0,yield{array:[...e],comparing:[],swapping:[i,i+1],sorted:[]});n++}yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(i,a)=>a)}}function*J(m){const e=[...m],t=e.length;if(t<=1){yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(r,s)=>s)};return}let n=1;for(;n<t;)yield{array:[...e],comparing:[n-1,n],swapping:[],sorted:[]},e[n-1]<=e[n]?n++:([e[n],e[n-1]]=[e[n-1],e[n]],yield{array:[...e],comparing:[],swapping:[n-1,n],sorted:[]},n>1?n--:n=1);yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(r,s)=>s)}}function z(m){return Array.from({length:m},(e,t)=>t)}function*j(m){const e=[...m],t=e.length;if(t<=1){yield{array:[...e],comparing:[],swapping:[],sorted:z(t)};return}const n=[];for(let r=0;r<t;r++){const s=e[r];let i=0,a=n.length;for(;i<a;){const p=Math.floor((i+a)/2);yield{array:[...n,...e.slice(r)],comparing:[p,n.length],swapping:[],sorted:z(n.length)},(n[p]??Number.NEGATIVE_INFINITY)<=s?i=p+1:a=p}n.splice(i,0,s),yield{array:[...n,...e.slice(r+1)],comparing:[],swapping:[i],sorted:z(n.length)}}yield{array:[...n],comparing:[],swapping:[],sorted:z(t)}}function U(m,e){const t=[];for(let n=m;n<=e;n++)t.push(n);return t}function*Q(m){const e=[...m],t=e.length,n=new Set,r=t>0?Math.floor(Math.log2(t))*2:0,s=(c,o)=>{const d=new Set(n);if(c!==void 0&&o!==void 0&&c<=o)for(let h=c;h<=o;h++)d.add(h);return Array.from(d).sort((h,u)=>h-u)};function*i(c,o){for(let d=c+1;d<=o;d++){const h=e[d];let u=d-1;for(;u>=c&&e[u]>h;)yield{array:[...e],comparing:[u,u+1],swapping:[],sorted:s(c,d)},e[u+1]=e[u],yield{array:[...e],comparing:[],swapping:[u,u+1],sorted:s(c,d)},u--;e[u+1]!==h&&(e[u+1]=h,yield{array:[...e],comparing:[],swapping:[u+1],sorted:s(c,d)})}for(let d=c;d<=o;d++)n.add(d)}function*a(c,o,d){let h=o;const u=2*o+1,y=2*o+2;u<c&&(yield{array:[...e],comparing:[d+h,d+u],swapping:[],sorted:s()},e[d+u]>e[d+h]&&(h=u)),y<c&&(yield{array:[...e],comparing:[d+h,d+y],swapping:[],sorted:s()},e[d+y]>e[d+h]&&(h=y)),h!==o&&([e[d+o],e[d+h]]=[e[d+h],e[d+o]],yield{array:[...e],comparing:[],swapping:[d+o,d+h],sorted:s()},yield*a(c,h,d))}function*l(c,o){const d=o-c+1;for(let h=Math.floor(d/2)-1;h>=0;h--)yield*a(d,h,c);for(let h=d-1;h>0;h--)[e[c],e[c+h]]=[e[c+h],e[c]],n.add(c+h),yield{array:[...e],comparing:[],swapping:[c,c+h],sorted:s()},yield*a(h,0,c);n.add(c)}function*p(c,o){const d=e[o];let h=c-1;for(let u=c;u<o;u++)yield{array:[...e],comparing:[u,o],swapping:[],sorted:s()},e[u]<=d&&(h++,h!==u&&([e[h],e[u]]=[e[u],e[h]],yield{array:[...e],comparing:[],swapping:[h,u],sorted:s()}));return[e[h+1],e[o]]=[e[o],e[h+1]],yield{array:[...e],comparing:[],swapping:[h+1,o],sorted:s()},h+1}function*g(c,o,d){const h=o-c+1;if(h<=0)return;if(h<=16){yield*i(c,o);return}if(d===0){yield*l(c,o);return}const u=yield*p(c,o);n.add(u),yield*g(c,u-1,d-1),yield*g(u+1,o,d-1)}if(t>1?yield*g(0,t-1,r):t===1&&n.add(0),n.size<t)for(let c=0;c<t;c++)n.add(c);yield{array:[...e],comparing:[],swapping:[],sorted:U(0,t-1)}}function*$(m){const e=[...m],t=e.length;if(t<=1){yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(r,s)=>s)};return}let n=!1;for(;!n;){n=!0;for(let r=0;r<=t-2;r+=2)yield{array:[...e],comparing:[r,r+1],swapping:[],sorted:[]},e[r]>e[r+1]&&([e[r],e[r+1]]=[e[r+1],e[r]],n=!1,yield{array:[...e],comparing:[],swapping:[r,r+1],sorted:[]});for(let r=1;r<=t-2;r+=2)yield{array:[...e],comparing:[r,r+1],swapping:[],sorted:[]},e[r]>e[r+1]&&([e[r],e[r+1]]=[e[r+1],e[r]],n=!1,yield{array:[...e],comparing:[],swapping:[r,r+1],sorted:[]})}yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(r,s)=>s)}}function*ee(m){const e=[...m],t=e.length;if(t<=1){yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(n,r)=>r)};return}for(let n=0;n<=t-2;n++){let r=e[n],s=n;for(let i=n+1;i<t;i++)yield{array:[...e],comparing:[i,n],swapping:[],sorted:Array.from({length:n},(a,l)=>l)},e[i]<r&&s++;if(s!==n){for(;r===e[s];)s++;if(s!==n){const i=e[s];e[s]=r,r=i,yield{array:[...e],comparing:[],swapping:[n,s],sorted:Array.from({length:n+1},(a,l)=>l)}}for(;s!==n;){s=n;for(let i=n+1;i<t;i++)yield{array:[...e],comparing:[i,n],swapping:[],sorted:Array.from({length:n},(a,l)=>l)},e[i]<r&&s++;for(;r===e[s];)s++;if(e[s]!==r){const i=e[s];e[s]=r,r=i,yield{array:[...e],comparing:[],swapping:[n,s],sorted:Array.from({length:n+1},(a,l)=>l)}}}}}yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(n,r)=>r)}}function*te(m){const e=[...m],t=e.length,n=new Set;if(t<=1){yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(i,a)=>a)};return}const r=()=>Array.from(n).sort((i,a)=>i-a),s=function*(i){for(let a=0;a<Math.floor((i+1)/2);a++){const l=i-a;[e[a],e[l]]=[e[l],e[a]],yield{array:[...e],comparing:[],swapping:[a,l],sorted:r()}}};for(let i=t;i>1;i--){let a=0;for(let l=1;l<i;l++)yield{array:[...e],comparing:[l,a],swapping:[],sorted:r()},e[l]>e[a]&&(a=l);a!==i-1&&(a>0&&(yield*s(a)),yield*s(i-1)),n.add(i-1)}n.add(0),yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(i,a)=>a)}}function*ie(m){const e=[...m],t=[...m],n=t.length;if(n<=1){yield{array:[...t],comparing:[],swapping:[],sorted:Array.from({length:n},(d,h)=>h)};return}const r=[],s=d=>Array.from(d).sort((h,u)=>h-u),i=[],a=d=>{for(;d>0;){const h=Math.floor((d-1)/2),u=i[d],y=i[h];if(y.value<u.value||y.value===u.value&&y.index<=u.index)break;i[d]=y,i[h]=u,d=h}},l=d=>{const h=i.length;for(;;){let u=d;const y=d*2+1,f=d*2+2,S=(A,w)=>i[A].value===i[w].value?i[A].index<i[w].index:i[A].value<i[w].value;if(y<h&&S(y,u)&&(u=y),f<h&&S(f,u)&&(u=f),u===d)return;[i[d],i[u]]=[i[u],i[d]],d=u}},p=d=>{i.push(d),a(i.length-1)},g=()=>{if(i.length===0)return;const d=i[0],h=i.pop();return i.length>0&&(i[0]=h,l(0)),d},c=()=>i[0];for(let d=0;d<n;d++){const h=e[d];let u=0,y=r.length;for(;u<y;){const f=Math.floor((u+y)/2),S=r[f][r[f].length-1];yield{array:[...t],comparing:[d,S.index],swapping:[],sorted:[]},h<=S.value?y=f:u=f+1}u===r.length?r.push([{value:h,index:d}]):r[u].push({value:h,index:d}),yield{array:[...t],comparing:[],swapping:[d],sorted:[]}}for(let d=0;d<r.length;d++){const h=r[d];if(h.length===0)continue;const u=h[h.length-1];p({value:u.value,index:u.index,pileIndex:d})}const o=new Set;for(let d=0;d<n;d++){const h=c();if(!h)break;yield{array:[...t],comparing:[d,h.index],swapping:[],sorted:s(o)};const u=g();if(!u)break;const y=r[u.pileIndex];y.pop(),t[d]=u.value,o.add(d),yield{array:[...t],comparing:[],swapping:[d],sorted:s(o)};const f=y[y.length-1];f&&p({value:f.value,index:f.index,pileIndex:u.pileIndex})}yield{array:[...t],comparing:[],swapping:[],sorted:Array.from({length:n},(d,h)=>h)}}function*ne(m){const e=[...m],t=e.length,n=new Set;if(t<=1){yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(s,i)=>i)};return}const r=()=>Array.from(n).sort((s,i)=>s-i);for(let s=t-1;s>0;s--){let a=Array.from({length:s+1},(p,g)=>({index:g}));for(;a.length>1;){const p=[];for(let g=0;g<a.length;g+=2){if(g+1>=a.length){p.push(a[g]);continue}const c=a[g],o=a[g+1];yield{array:[...e],comparing:[c.index,o.index],swapping:[],sorted:r()},e[c.index]>=e[o.index]?p.push(c):p.push(o)}a=p}const l=a[0].index;l!==s&&([e[l],e[s]]=[e[s],e[l]],yield{array:[...e],comparing:[],swapping:[l,s],sorted:r()}),n.add(s)}n.add(0),yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(s,i)=>i)}}function re(m){const e=[1,1];for(;e[e.length-1]<m;){const t=e[e.length-1]+e[e.length-2]+1;e.push(t)}return e}function*se(m){const e=[...m],t=e.length;if(t<=1){yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(s,i)=>i)};return}const n=re(t),r=new Set;for(let s=n.length-1;s>=0;s--){const i=n[s];if(!(i<=0||i>=t||r.has(i))){r.add(i);for(let a=i;a<t;a++){const l=e[a];let p=a;for(;p>=i&&e[p-i]>l;)yield{array:[...e],comparing:[p-i,p],swapping:[],sorted:[]},e[p]=e[p-i],yield{array:[...e],comparing:[],swapping:[p-i,p],sorted:[]},p-=i;e[p]!==l&&(e[p]=l,yield{array:[...e],comparing:[],swapping:[p],sorted:[]})}}}yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(s,i)=>i)}}const ae=32;function oe(m){let e=0;for(;m>=ae;)e|=m&1,m>>=1;return m+e}function*le(m){const e=[...m],t=e.length;if(t<=1){yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(a,l)=>l)};return}const n=[],r=oe(t);let s=0;for(;s<t;){let a=s,l=s+1;if(l<t&&e[l]<e[l-1]){for(;l<t&&e[l]<e[l-1];)l++;for(let c=a,o=l-1;c<o;c++,o--)[e[c],e[o]]=[e[o],e[c]],yield{array:[...e],comparing:[],swapping:[c,o],sorted:[]}}else for(;l<t&&e[l]>=e[l-1];)l++;let p=l-a;const g=Math.min(t,a+Math.max(p,r));for(let c=a+1;c<g;c++){const o=e[c];let d=c-1;for(;d>=a&&e[d]>o;)yield{array:[...e],comparing:[d,c],swapping:[],sorted:[]},e[d+1]=e[d],yield{array:[...e],comparing:[],swapping:[d,d+1],sorted:[]},d--;e[d+1]!==o&&(e[d+1]=o,yield{array:[...e],comparing:[],swapping:[d+1],sorted:[]})}p=g-a,n.push({start:a,length:p}),s=g}const i=function*(a,l,p){const g=e.slice(a,l),c=e.slice(l,p);let o=0,d=0,h=a;const u=new Set;for(;o<g.length&&d<c.length;)yield{array:[...e],comparing:[a+o,l+d],swapping:[],sorted:Array.from(u).sort((y,f)=>y-f)},g[o]<=c[d]?(e[h]=g[o],u.add(h),o++):(e[h]=c[d],u.add(h),d++),yield{array:[...e],comparing:[],swapping:[h],sorted:Array.from(u).sort((y,f)=>y-f)},h++;for(;o<g.length;)e[h]=g[o],u.add(h),yield{array:[...e],comparing:[],swapping:[h],sorted:Array.from(u).sort((y,f)=>y-f)},o++,h++;for(;d<c.length;)e[h]=c[d],u.add(h),yield{array:[...e],comparing:[],swapping:[h],sorted:Array.from(u).sort((y,f)=>y-f)},d++,h++};for(;n.length>1;){const a=n.shift(),l=n.shift();if(!a||!l)break;const p=a.start,g=l.start,c=l.start+l.length;yield*i(p,g,c),n.unshift({start:p,length:c-p})}yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(a,l)=>l)}}function*de(m){const e=[...m],t=e.length;if(t<=1){yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(a,l)=>l)};return}const n=new Map;for(let a=0;a<t;a++){const l=e[a],p=n.get(l)??[];p.push(l),n.set(l,p),yield{array:[...e],comparing:[a],swapping:[],sorted:[]}}const r=new Set,s=Array.from(n.keys()).sort((a,l)=>a-l);let i=0;for(const a of s){const l=n.get(a);if(l)for(const p of l)e[i]=p,r.add(i),yield{array:[...e],comparing:[],swapping:[i],sorted:Array.from(r).sort((g,c)=>g-c)},i++}yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(a,l)=>l)}}function*ce(m){const e=[...m],t=e.length,n=new Set,r=()=>Array.from(n).sort((o,d)=>o-d);function*s(o,d){for(let h=o+1;h<=d;h++){const u=e[h];let y=h-1;for(;y>=o&&e[y]>u;)yield{array:[...e],comparing:[y,y+1],swapping:[],sorted:r()},e[y+1]=e[y],yield{array:[...e],comparing:[],swapping:[y,y+1],sorted:r()},y--;e[y+1]=u,yield{array:[...e],comparing:[],swapping:[y+1],sorted:r()}}for(let h=o;h<=d;h++)n.add(h)}function*i(o,d){const h=d-o+1;function*u(y,f){let S=f;const A=2*f+1,w=2*f+2;A<y&&e[o+A]>e[o+S]&&(yield{array:[...e],comparing:[o+A,o+S],swapping:[],sorted:r()},S=A),w<y&&e[o+w]>e[o+S]&&(yield{array:[...e],comparing:[o+w,o+S],swapping:[],sorted:r()},S=w),S!==f&&([e[o+f],e[o+S]]=[e[o+S],e[o+f]],yield{array:[...e],comparing:[],swapping:[o+f,o+S],sorted:r()},yield*u(y,S))}for(let y=Math.floor(h/2)-1;y>=0;y--)yield*u(h,y);for(let y=h-1;y>0;y--)[e[o],e[o+y]]=[e[o+y],e[o]],n.add(o+y),yield{array:[...e],comparing:[],swapping:[o,o+y],sorted:r()},yield*u(y,0);n.add(o)}function a(o,d){for(let h=o;h<d;h++)if(e[h]>e[h+1])return!1;return!0}function l(o,d){for(let h=o;h<d;h++)if(e[h]<e[h+1])return!1;return!0}function p(o,d,h){return e[o]<e[d]?e[d]<e[h]?d:e[o]<e[h]?h:o:e[o]<e[h]?o:e[d]<e[h]?h:d}function*g(o,d){const h=Math.floor((o+d)/2),u=p(o,h,d),y=e[u];[e[u],e[d]]=[e[d],e[u]],yield{array:[...e],comparing:[],swapping:[u,d],sorted:r()};let f=o-1;for(let S=o;S<d;S++)yield{array:[...e],comparing:[S,d],swapping:[],sorted:r()},e[S]<=y&&(f++,f!==S&&([e[f],e[S]]=[e[S],e[f]],yield{array:[...e],comparing:[],swapping:[f,S],sorted:r()}));return[e[f+1],e[d]]=[e[d],e[f+1]],yield{array:[...e],comparing:[],swapping:[f+1,d],sorted:r()},f+1}function*c(o,d,h){const u=d-o+1;if(u<=16){yield*s(o,d);return}if(a(o,d)){for(let w=o;w<=d;w++)n.add(w);return}if(l(o,d)){let w=o,b=d;for(;w<b;)[e[w],e[b]]=[e[b],e[w]],yield{array:[...e],comparing:[],swapping:[w,b],sorted:r()},w++,b--;for(let x=o;x<=d;x++)n.add(x);return}if(h===0){yield*i(o,d);return}const y=yield*g(o,d);n.add(y);const f=y-o,S=d-y,A=f<u/8||S<u/8;yield*c(o,y-1,A?h-1:h),yield*c(y+1,d,A?h-1:h)}if(t>1){const o=Math.floor(Math.log2(t));yield*c(0,t-1,o)}else t===1&&n.add(0);yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(o,d)=>d)}}function*ge(m){const e=[...m],t=e.length,n=new Set,r=()=>Array.from(n).sort((l,p)=>l-p);function*s(l,p){for(let g=l+1;g<=p;g++){const c=e[g];let o=g-1;for(;o>=l&&e[o]>c;)yield{array:[...e],comparing:[o,o+1],swapping:[],sorted:r()},e[o+1]=e[o],yield{array:[...e],comparing:[],swapping:[o,o+1],sorted:r()},o--;e[o+1]=c,yield{array:[...e],comparing:[],swapping:[o+1],sorted:r()}}}function*i(l,p,g){let c=l,o=p+1;if(!(e[p]<=e[o]))for(;c<=p&&o<=g;)if(yield{array:[...e],comparing:[c,o],swapping:[],sorted:r()},e[c]<=e[o])c++;else{const d=e[o];let h=o;for(;h>c;)e[h]=e[h-1],yield{array:[...e],comparing:[],swapping:[h,h-1],sorted:r()},h--;e[c]=d,yield{array:[...e],comparing:[],swapping:[c],sorted:r()},c++,p++,o++}}function*a(l,p){if(l>=p)return;if(p-l+1<=16){yield*s(l,p);return}const c=Math.floor((l+p)/2);yield*a(l,c),yield*a(c+1,p),yield*i(l,c,p)}t>1&&(yield*a(0,t-1));for(let l=0;l<t;l++)n.add(l);yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(l,p)=>p)}}function*he(m){const e=[...m],t=e.length,n=new Set,r=()=>Array.from(n).sort((g,c)=>g-c);function*s(g,c){for(let o=g+1;o<=c;o++){const d=e[o];let h=o-1;for(;h>=g&&e[h]>d;)yield{array:[...e],comparing:[h,h+1],swapping:[],sorted:r()},e[h+1]=e[h],yield{array:[...e],comparing:[],swapping:[h,h+1],sorted:r()},h--;e[h+1]=d,yield{array:[...e],comparing:[],swapping:[h+1],sorted:r()}}for(let o=g;o<=c;o++)n.add(o)}function i(g,c){let o=e[g],d=e[g];for(let h=g+1;h<=c;h++)e[h]<o&&(o=e[h]),e[h]>d&&(d=e[h]);return{min:o,max:d}}function a(g){return g===0?1:Math.floor(Math.log2(Math.abs(g)))+1}function*l(g,c,o){const d=c-g+1;if(d<=16){yield*s(g,c);return}const{min:h,max:u}=i(g,c),y=u-h;if(y<d){yield*s(g,c);return}const f=Math.min(256,Math.max(2,Math.floor(Math.sqrt(d)))),S=Array.from({length:f},()=>[]),A=Math.max(0,a(y)-Math.floor(Math.log2(f)));for(let b=g;b<=c;b++){const x=Math.min(f-1,Math.floor(e[b]-h>>A));S[x].push(b),yield{array:[...e],comparing:[b],swapping:[],sorted:r()}}let w=g;for(let b=0;b<f;b++){const x=S[b];if(x.length===0)continue;const C=x.map(I=>e[I]);if(x.length<=16)C.sort((I,v)=>I-v);else{[...e];let I=w;for(let v=0;v<x.length;v++)e[I+v]=C[v];yield*l(I,I+x.length-1),C.length=0;for(let v=0;v<x.length;v++)C.push(e[I+v])}for(let I=0;I<C.length;I++)e[w]!==C[I]&&(e[w]=C[I],yield{array:[...e],comparing:[],swapping:[w],sorted:r()}),w++}for(let b=g;b<=c;b++)n.add(b)}function*p(){const g=[],c=[];for(let o=0;o<t;o++)e[o]<0?g.push(e[o]):c.push(e[o]);if(g.length>0){const d=g.length-1;for(let u=0;u<g.length;u++)e[u]=-g[u];yield*l(0,d);const h=[];for(let u=d;u>=0;u--)h.push(-e[u]);for(let u=0;u<h.length;u++)e[u]=h[u],yield{array:[...e],comparing:[],swapping:[u],sorted:r()}}if(c.length>0){const o=g.length,d=t-1;for(let h=0;h<c.length;h++)e[o+h]=c[h];yield*l(o,d)}}t>1?e.some(c=>c<0)?yield*p():yield*l(0,t-1):t===1&&n.add(0),yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(g,c)=>c)}}function*pe(m,e=10){const t=[...m],n=t.length;if(n<=1){yield{array:[...t],comparing:[],swapping:[],sorted:Array.from({length:n},(i,a)=>a)};return}const r=Math.max(...t);let s=1;for(;Math.floor(r/s)>=1;){const i=Array.from({length:e},()=>[]),a=Array.from({length:e},()=>[]);for(let g=0;g<n;g++){const c=Math.floor(t[g]/s)%e;i[c].push(t[g]),a[c].push(g),yield{array:[...t],comparing:[g],swapping:[],sorted:[]}}let l=0;const p=[];for(let g=0;g<e;g++)for(let c=0;c<i[g].length;c++)t[l]!==i[g][c]&&p.push(l),t[l]=i[g][c],l++;p.length>0&&(yield{array:[...t],comparing:[],swapping:p,sorted:[]}),s*=e}yield{array:[...t],comparing:[],swapping:[],sorted:Array.from({length:n},(i,a)=>a)}}function*ue(m,e=10){const t=[...m],n=t.length;if(n<=1){yield{array:[...t],comparing:[],swapping:[],sorted:Array.from({length:n},(l,p)=>p)};return}const r=Math.max(...t);let s=1,i=r;for(;i>=e;)s*=e,i=Math.floor(i/e);function*a(l,p,g){if(l>=p||g<1)return;const c=Array.from({length:e},()=>[]),o=Array.from({length:e},()=>[]);for(let f=l;f<=p;f++){const S=Math.floor(t[f]/g)%e;c[S].push(t[f]),o[S].push(f),yield{array:[...t],comparing:[f],swapping:[],sorted:[]}}let d=l;const h=[],u=[];for(let f=0;f<e;f++){const S=d;for(let w=0;w<c[f].length;w++)t[d]!==c[f][w]&&h.push(d),t[d]=c[f][w],d++;const A=d-1;S<=A&&u.push({start:S,end:A})}h.length>0&&(yield{array:[...t],comparing:[],swapping:h,sorted:[]});const y=Math.floor(g/e);for(const f of u)f.start<f.end&&(yield*a(f.start,f.end,y))}yield*a(0,n-1,s),yield{array:[...t],comparing:[],swapping:[],sorted:Array.from({length:n},(l,p)=>p)}}function*me(m){const e=[...m],t=e.length;if(t<=1){yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(i,a)=>a)};return}const n=Math.max(...e),r=n>0?Math.floor(Math.log2(n))+1:1;console.log("[Radix Binary] Initial array (first 10):",e.slice(0,10)),console.log("[Radix Binary] Max value:",n,"Max in binary:",n.toString(2),"Bits needed:",r),console.log("[Radix Binary] Will process bits from 0 to",r-1);for(let i=0;i<r;i++){console.log(`[Radix Binary] Processing bit ${i}...`);const a=1<<i,l=[],p=[];for(let o=0;o<t;o++){const d=(e[o]&a)!==0?1:0;yield{array:[...e],comparing:[o],swapping:[],sorted:[]},d===0?l.push(e[o]):p.push(e[o])}let g=0;const c=[];for(let o=0;o<l.length;o++)e[g]!==l[o]&&c.push(g),e[g]=l[o],g++;for(let o=0;o<p.length;o++)e[g]!==p[o]&&c.push(g),e[g]=p[o],g++;c.length>0&&(yield{array:[...e],comparing:[],swapping:c,sorted:[]}),console.log(`[Radix Binary] After bit ${i}: (first 10)`,e.slice(0,10))}const s=e.every((i,a)=>a===0||e[a-1]<=i);if(console.log("[Radix Binary] Final array (first 10):",e.slice(0,10)),console.log("[Radix Binary] Final array (last 10):",e.slice(-10)),console.log("[Radix Binary] Array length:",e.length,"Expected:",t),console.log("[Radix Binary] Is sorted:",s),!s){console.error("[Radix Binary] SORT FAILED! Array is not sorted");for(let i=1;i<t;i++)if(e[i-1]>e[i]){console.error(`[Radix Binary] First mismatch at index ${i}: ${e[i-1]} > ${e[i]}`);break}}yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(i,a)=>a)}}function*ye(m){const e=[...m],t=e.length,n=16;if(t<=1){yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(i,a)=>a)};return}const r=Math.max(...e);let s=1;for(;Math.floor(r/s)>=1;){const i=Array.from({length:n},()=>[]),a=Array.from({length:n},()=>[]);for(let g=0;g<t;g++){const c=Math.floor(e[g]/s)%n;i[c].push(e[g]),a[c].push(g),yield{array:[...e],comparing:[g],swapping:[],sorted:[]}}let l=0;const p=[];for(let g=0;g<n;g++)for(let c=0;c<i[g].length;c++)e[l]!==i[g][c]&&p.push(l),e[l]=i[g][c],l++;p.length>0&&(yield{array:[...e],comparing:[],swapping:p,sorted:[]}),s*=n}yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(i,a)=>a)}}function*fe(m){const e=m.length;if(e===0){yield{array:[],comparing:[],swapping:[],sorted:[]};return}const t=[...m],n=Math.max(...t),r=new Array(n+1).fill(0);for(let i=0;i<e;i++)r[t[i]]++,yield{array:[...t],comparing:[i],swapping:[],sorted:[]};for(let i=1;i<r.length;i++)r[i]+=r[i-1];const s=[...t];for(let i=e-1;i>=0;i--){const a=s[i],l=r[a]-1;r[a]--,t[l]=a,yield{array:[...t],comparing:[],swapping:[l],sorted:[]}}yield{array:[...t],comparing:[],swapping:[],sorted:Array.from({length:e},(i,a)=>a)}}function*Se(m){const e=[...m],t=e.length;if(t===0){yield{array:[],comparing:[],swapping:[],sorted:[]};return}const n=Math.min(...e),s=Math.max(...e)-n||1,i=Math.max(1,Math.floor(Math.sqrt(t))),a=Array.from({length:i},()=>[]);for(let p=0;p<t;p++){const g=e[p],c=Math.min(i-1,Math.floor((g-n)/s*i));a[c].push(g),yield{array:[...e],comparing:[p],swapping:[],sorted:[]}}for(const p of a)for(let g=1;g<p.length;g++){const c=p[g];let o=g-1;for(;o>=0&&p[o]>c;)p[o+1]=p[o],o--;p[o+1]=c}let l=0;for(const p of a)for(const g of p)e[l]=g,yield{array:[...e],comparing:[],swapping:[l],sorted:[]},l++;yield{array:[...e],comparing:[],swapping:[],sorted:Array.from({length:t},(p,g)=>g)}}class we{constructor(){this.audioContext=null,this.gainNode=null,this.enabled=!1,this.oscillators=new Map,this.MIN_FREQ=220,this.MAX_FREQ=3520}initAudioContext(){this.audioContext||(this.audioContext=new AudioContext,this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=.1,this.gainNode.connect(this.audioContext.destination))}enable(){this.initAudioContext(),this.enabled=!0}disable(){this.enabled=!1,this.stopAllSounds()}isEnabled(){return this.enabled}toggle(){return this.enabled?this.disable():this.enable(),this.enabled}valueToFrequency(e,t){const n=e/t,r=Math.log(this.MIN_FREQ),s=Math.log(this.MAX_FREQ);return Math.exp(r+n*(s-r))}playCompare(e,t){if(!this.enabled||!this.audioContext||!this.gainNode)return;const n=Math.max(...t);e.forEach(r=>{if(r>=0&&r<t.length){const s=this.valueToFrequency(t[r],n);this.playTone(r,s,.05,"sine")}})}playSwap(e,t){if(!this.enabled||!this.audioContext||!this.gainNode)return;const n=Math.max(...t);e.forEach(r=>{if(r>=0&&r<t.length){const s=this.valueToFrequency(t[r],n);this.playTone(r,s,.08,"square")}})}playAccess(e,t){if(!this.enabled||!this.audioContext||!this.gainNode)return;const n=Math.max(...t);e.forEach(r=>{if(r>=0&&r<t.length){const s=this.valueToFrequency(t[r],n);this.playTone(r+1e4,s,.04,"triangle")}})}playTone(e,t,n,r="sine"){if(!this.audioContext||!this.gainNode)return;this.stopSound(e);const s=this.audioContext.createOscillator();s.type=r,s.frequency.value=t;const i=this.audioContext.createGain();i.gain.value=0,s.connect(i),i.connect(this.gainNode);const a=this.audioContext.currentTime,l=.01,p=.02;i.gain.setValueAtTime(0,a),i.gain.linearRampToValueAtTime(.3,a+l),i.gain.setValueAtTime(.3,a+n-p),i.gain.linearRampToValueAtTime(0,a+n),s.start(a),s.stop(a+n),s.onended=()=>{this.oscillators.delete(e)},this.oscillators.set(e,s)}stopSound(e){const t=this.oscillators.get(e);if(t){try{t.stop()}catch{}this.oscillators.delete(e)}}stopAllSounds(){this.oscillators.forEach((e,t)=>{try{e.stop()}catch{}}),this.oscillators.clear()}dispose(){this.stopAllSounds(),this.audioContext&&(this.audioContext.close(),this.audioContext=null),this.gainNode=null,this.enabled=!1}}class be{constructor(e){this.animationId=null,this.isPaused=!1,this.comparisons=0,this.swaps=0,this.startTime=0,this.lastArray=[],this.audioEngine=new we,this.canvas=e.canvas;const t=this.canvas.getContext("2d");if(!t)throw new Error("Canvas context not available");this.ctx=t,this.arraySize=e.arraySize,this.speed=e.speed,this.layout=e.layout,this.soundSettings=e.soundSettings,this.setupCanvas()}setupCanvas(){const e=this.canvas.getBoundingClientRect();this.canvas.width=e.width,this.canvas.height=e.height}setArraySize(e){this.arraySize=e}setSpeed(e){this.speed=e}setLayout(e){this.layout=e,this.lastArray.length>0&&this.drawArray(this.lastArray)}setSoundSettings(e){this.soundSettings=e}resetStats(){this.comparisons=0,this.swaps=0,this.startTime=0}getStats(){const e=this.startTime>0?(Date.now()-this.startTime)/1e3:0;return{comparisons:this.comparisons,swaps:this.swaps,time:e}}drawStep(e){const{array:t,comparing:n,swapping:r,sorted:s}=e;this.lastArray=[...t];const i=this.canvas.width,a=this.canvas.height,l=Math.max(...t,1);this.ctx.fillStyle="#0f3460",this.ctx.fillRect(0,0,i,a),this.layout==="radial"?this.drawRadialLayout(t,n,r,s,l,i,a):this.drawLinearLayout(t,n,r,s,l,i,a),n.length>0&&(this.comparisons++,this.soundSettings.compare?this.audioEngine.playCompare(n,t):this.soundSettings.access&&this.audioEngine.playAccess(n,t)),r.length>0&&(this.swaps++,this.soundSettings.swap?this.audioEngine.playSwap(r,t):this.soundSettings.access&&!this.soundSettings.compare&&this.audioEngine.playAccess(r,t))}getStateColor(e,t,n,r){return n.includes(e)?"#ff3366":t.includes(e)?"#ffaa00":r.includes(e)?"#00ff88":null}drawLinearLayout(e,t,n,r,s,i,a){const l=i/e.length;for(let p=0;p<e.length;p++){const g=s>0?e[p]/s:0,c=g*a*.95,o=p*l,d=a-c,h=this.getStateColor(p,t,n,r);this.ctx.fillStyle=h??this.valueToColor(g),this.ctx.fillRect(o,d,Math.max(l-1,1),c)}}drawRadialLayout(e,t,n,r,s,i,a){const l=i/2,p=a/2,g=Math.min(i,a)*.45,c=g*.25,o=Math.PI*2/e.length,d=Math.max(1.5,2*Math.PI*g/(e.length*8));this.ctx.save(),this.ctx.lineCap="round",this.ctx.strokeStyle="rgba(255, 255, 255, 0.08)",this.ctx.lineWidth=1,this.ctx.beginPath(),this.ctx.arc(l,p,g,0,Math.PI*2),this.ctx.stroke();for(let h=0;h<e.length;h++){const u=e[h],y=s>0?u/s:0,f=h*o-Math.PI/2,S=Math.cos(f),A=Math.sin(f),w=l+c*S,b=p+c*A,x=l+g*S,C=p+g*A,I=c+(g-c)*y,v=l+I*S,B=p+I*A,M=this.getStateColor(h,t,n,r),D=M??this.remainderColor(1-y);this.ctx.strokeStyle=D,this.ctx.lineWidth=d,this.ctx.globalAlpha=M?.3:.4,this.ctx.beginPath(),this.ctx.moveTo(w,b),this.ctx.lineTo(x,C),this.ctx.stroke(),this.ctx.globalAlpha=1;const T=d*1.8,O=M??this.valueToColor(y);if(this.ctx.strokeStyle=O,this.ctx.lineWidth=T,this.ctx.beginPath(),this.ctx.moveTo(w,b),this.ctx.lineTo(v,B),this.ctx.stroke(),!M){const N=Math.max(3,T);this.ctx.fillStyle=O,this.ctx.beginPath(),this.ctx.arc(v,B,N/2,0,Math.PI*2),this.ctx.fill()}}this.ctx.restore()}valueToColor(e){const t=200-e*100,n=35+e*45;return`hsl(${t}, 85%, ${n}%)`}remainderColor(e){const t=200-e*80,n=15+e*35;return`hsl(${t}, 60%, ${n}%)`}getAudioEngine(){return this.audioEngine}async start(e,t,n){this.resetStats(),this.startTime=Date.now(),this.isPaused=!1;const r=async()=>{if(this.isPaused)return;const s=await e.next();if(console.log("[Visualizer] Step result:",s.done?"DONE":"processing"),s.done)s.value&&this.drawStep(s.value),t&&t(this.getStats()),n&&n(),this.animationId=null;else if(this.drawStep(s.value),t&&t(this.getStats()),this.speed<=20){const i=50-(this.speed-1)*2;await new Promise(a=>setTimeout(a,i)),this.animationId=requestAnimationFrame(()=>r())}else if(this.speed<=50){const i=10-Math.floor((this.speed-21)/3);await new Promise(a=>setTimeout(a,Math.max(0,i))),this.animationId=requestAnimationFrame(()=>r())}else{const i=Math.floor((this.speed-50)/2)+1;for(let a=0;a<i-1;a++){const l=await e.next();if(l.done){l.value&&this.drawStep(l.value),t&&t(this.getStats()),n&&n(),this.animationId=null;return}this.drawStep(l.value),t&&t(this.getStats())}this.animationId=requestAnimationFrame(()=>r())}};this.animationId=requestAnimationFrame(()=>r())}pause(){this.isPaused=!0,this.animationId!==null&&(cancelAnimationFrame(this.animationId),this.animationId=null)}resume(e,t,n){this.isPaused=!1,this.start(e,t,n)}stop(){this.isPaused=!0,this.animationId!==null&&(cancelAnimationFrame(this.animationId),this.animationId=null)}drawArray(e){this.drawStep({array:e,comparing:[],swapping:[],sorted:[]})}isPausedState(){return this.isPaused}}const R={bubble:["バブルソート","安定な交換型。実装容易","隣接要素を逐次比較","平均/最悪 O(n^2)","既に整列済みなら早期終了"],selection:["選択ソート","不安定・選択型","最小値を選んで前方へ配置","計算量 O(n^2)","書き込み回数が少ない"],insertion:["挿入ソート","安定・挿入型","部分配列に挿入しながら整列","平均/最悪 O(n^2)","ほぼ整列済みで高速"],quick:["クイックソート","分割統治・不安定","ピボットで左右に分割","平均 O(n log n)","最悪 O(n^2) 対策に軸選択が鍵"],"quick-mt":["クイックソート(MT)","Web Worker併用の並列版","左右の部分列をバックグラウンド処理","平均 O(n log n)","ステップ生成を別スレッドで実行"],merge:["マージソート","安定・分割統治","再帰分割して併合","計算量 O(n log n)","追加メモリ O(n) が必要"],heap:["ヒープソート","選択型・不安定","最大ヒープを構築して抽出","計算量 O(n log n)","追加メモリ不要"],shell:["シェルソート","改良挿入ソート","ギャップを縮め段階的に整列","平均 O(n^(3/2)) 付近","ギャップ選択で性能が変動"],comb:["コムソート","改良バブルソート","ギャップを縮めて比較","平均 O(n log n) 程度","終盤でバブルソートに収束"],cocktail:["カクテルソート","双方向バブル","往復で隣接交換を実施","計算量 O(n^2)","双方向で早期収束期待"],gnome:["ノームソート","挿入ソート類似","条件満たすまで後退して交換","計算量 O(n^2)","実装は極めて単純"],library:["図書館ソート","遅延挿入型","空きスロットを用意して挿入","平均 O(n log n)","空隙管理が性能を左右"],intro:["イントロソート","ハイブリッド","クイック+ヒープ+挿入の切替","平均 O(n log n)","STL sort で採用"],"odd-even":["奇偶転置ソート","並列向き比較交換網","偶数→奇数番目で交互比較","計算量 O(n^2)","シンクロナス処理に適合"],cycle:["サイクルソート","書き込み回数最小","位置を決めて巡回交換","計算量 O(n^2)","書き込み回数 O(n)"],pancake:["パンケーキソート","prefix 反転のみ使用","最大値を裏返しで移動","計算量 O(n^2)","教育・アニメ用途向き"],patience:["ペイシェンスソート","トランプ分配モデル","山札を作りマージで復元","計算量 O(n log n)","LIS 計算にも応用"],tournament:["トーナメントソート","勝者木で最大抽出","比較結果を再利用","計算量 O(n log n)","ヒープの代替実装"],smooth:["スムースソート","レオナルドヒープ利用","ほぼ整列で O(n)","最悪 O(n log n)","実装難度は高め"],tim:["Tim ソート","実用ハイブリッド","既存 run を検出し併合","計算量 O(n log n)","Python/JavaScript 標準に採用"],sleep:["スリープソート","並列遅延ジョーク","値を遅延実行で整列","計算量: 実質 O(n)","デモ専用・非現実的"],bitonic:["バイトニックソート","比較交換ネットワーク","分割してビトニック列を生成","計算量 O(n log^2 n)","GPU/並列処理で強い"],"bitonic-mt":["バイトニック(MT)","Web Worker 並列版","複数スレッドでサブ列処理","計算量 O(n log^2 n)","CPU コアを活用"],"radix-lsd":["基数ソート LSD","桁を下位から処理","安定なバケット集計","計算量 O(d*(n+k))","整数・固定長キー向け"],"radix-msd":["基数ソート MSD","桁を上位から処理","再帰的にバケット分割","計算量 O(d*(n+k))","プレフィックス共通なデータに強い"],"radix-binary":["基数ソート 基数2","ビット単位の安定分配","全ビットを順に処理","計算量 O(w*n)","w=ビット長。密度高い整数向け"],"radix-hex":["基数ソート 基数16","4bit 単位の LSD 処理","16 バケットで分配","計算量 O((w/4)*n)","バイト列操作に適合"],counting:["カウントソート","整数限定の線形ソート","出現頻度をカウント","計算量 O(n+k)","値域が小さいほど有効"],bucket:["バケットソート","分布利用の分割法","値を区間ごとに格納","平均 O(n+k)","バケット内は挿入ソート"],pdq:["PDQソート","Pattern-Defeating Quicksort","Rustのstd::sortで採用","計算量 O(n log n)","パターン検出で最悪ケース回避"],block:["ブロックソート","安定・省メモリマージ","in-placeマージソート","計算量 O(n log n)","追加メモリ O(1)"],spread:["スプレッドソート","整数特化の高速ソート","適応的バケット化","計算量 O(n)","Boost C++で採用"],default:["ソートビジュアル","左のリストからアルゴリズム選択","各行120文字以内で要点表示","比較/交換音も設定可能","円形レイアウトも試せます"]},Ae=["random","nearly-sorted","reversed"],k={bubble:64,selection:64,insertion:64,comb:72,cocktail:72,gnome:60,"odd-even":56,cycle:56,pancake:48,patience:48,library:80,smooth:80,sleep:24,bitonic:96,"bitonic-mt":96,quick:1024,"quick-mt":1536,intro:1024},Ie={bubble:"n2",selection:"n2",insertion:"n2",cocktail:"n2",gnome:"n2","odd-even":"n2",cycle:"n2",pancake:"n2",shell:"n2",comb:"n2",quick:"nlogn","quick-mt":"nlogn",merge:"nlogn",heap:"nlogn",intro:"nlogn",tim:"nlogn",pdq:"nlogn",block:"nlogn",smooth:"nlogn",library:"nlogn",patience:"nlogn",tournament:"nlogn",bitonic:"nlogn","bitonic-mt":"nlogn","radix-lsd":"n","radix-msd":"n","radix-binary":"n","radix-hex":"n",counting:"n",bucket:"n",spread:"n",sleep:"special"},xe={bubble:1,selection:.9,insertion:.75,cocktail:1.1,gnome:1.25,"odd-even":1.4,cycle:1.5,pancake:1.75,shell:.25,comb:.2,quick:1,"quick-mt":.65,merge:1.2,heap:1.5,intro:1.05,tim:1.3,pdq:.95,block:1.4,smooth:1.6,library:2,patience:2.5,tournament:2,bitonic:3,"bitonic-mt":1.5,"radix-lsd":1,"radix-msd":1.1,"radix-binary":1.2,"radix-hex":.85,counting:.75,bucket:1,spread:.85,sleep:.1};class ve{constructor(){this.currentArray=[],this.currentGenerator=null,this.isRunning=!1,this.isDemoMode=!1,this.currentDistribution="random",this.demoQueue=[],this.demoBaseArray=[],this.demoCurrentDistribution="random",this.demoOriginalSize=0,this.demoOriginalSizeLabel="",this.demoOriginalSpeed=0,this.demoOriginalDistribution="random",this.demoDelay=800,this.demoStartDelay=150,this.demoSpeed=100,this.benchmarkBaseSize=0,this.benchmarkFactor=1,this.demoAlgorithmSizes=new Map;const e=document.getElementById("canvas");this.algorithmSelect=document.getElementById("algorithm"),this.sizeInput=document.getElementById("size"),this.sizeValue=document.getElementById("sizeValue"),this.speedInput=document.getElementById("speed"),this.speedValue=document.getElementById("speedValue"),this.startButton=document.getElementById("start"),this.pauseButton=document.getElementById("pause"),this.resetButton=document.getElementById("reset"),this.demoButton=document.getElementById("demo"),this.layoutSelect=document.getElementById("layout"),this.distributionSelect=document.getElementById("distribution"),this.soundToggle=document.getElementById("soundToggle"),this.soundCompareToggle=document.getElementById("soundCompare"),this.soundSwapToggle=document.getElementById("soundSwap"),this.soundAccessToggle=document.getElementById("soundAccess"),this.comparisonsDisplay=document.getElementById("comparisons"),this.swapsDisplay=document.getElementById("swaps"),this.timeDisplay=document.getElementById("time"),this.algorithmInfoPanel=document.getElementById("algorithmInfo"),this.visualizer=new be({canvas:e,arraySize:parseInt(this.sizeInput.value),speed:parseInt(this.speedInput.value),layout:this.layoutSelect.value==="radial"?"radial":"linear",soundSettings:this.getSoundSettings()}),this.setupEventListeners(),this.resetArray(),this.updateAlgorithmInfo(this.algorithmSelect.value)}setupEventListeners(){this.sizeInput.addEventListener("input",()=>{this.sizeValue.textContent=this.sizeInput.value,this.isRunning||(this.visualizer.setArraySize(parseInt(this.sizeInput.value)),this.resetArray())}),this.speedInput.addEventListener("input",()=>{this.speedValue.textContent=this.speedInput.value,this.visualizer.setSpeed(parseInt(this.speedInput.value))}),this.layoutSelect.addEventListener("change",()=>{const t=this.layoutSelect.value==="radial"?"radial":"linear";this.visualizer.setLayout(t),this.isRunning||this.visualizer.drawArray(this.currentArray)}),this.distributionSelect.addEventListener("change",()=>{this.isRunning||this.resetArray()}),this.algorithmSelect.addEventListener("change",()=>{this.updateAlgorithmInfo(this.algorithmSelect.value)}),this.startButton.addEventListener("click",()=>{this.start()}),this.pauseButton.addEventListener("click",()=>{this.pause()}),this.resetButton.addEventListener("click",()=>{this.reset()}),this.demoButton.addEventListener("click",()=>{this.startDemo()}),this.soundToggle.addEventListener("change",()=>{this.soundToggle.checked?this.visualizer.getAudioEngine().enable():this.visualizer.getAudioEngine().disable(),this.applySoundSettings()});const e=()=>{this.applySoundSettings()};this.soundCompareToggle.addEventListener("change",e),this.soundSwapToggle.addEventListener("change",e),this.soundAccessToggle.addEventListener("change",e)}generateArray(e,t){const n=t??this.getSelectedDistribution();if(n==="nearly-sorted"){const r=Array.from({length:e},(a,l)=>l+1),s=Math.max(1,Math.floor(e*.2)),i=e-s;for(let a=i;a<e;a++){const l=i+Math.floor(Math.random()*s);[r[a],r[l]]=[r[l],r[a]]}return r}return n==="reversed"?Array.from({length:e},(r,s)=>e-s):Array.from({length:e},()=>Math.floor(Math.random()*e)+1)}getSelectedDistribution(){var e;return this.parseDistribution((e=this.distributionSelect)==null?void 0:e.value)}parseDistribution(e){return e==="nearly-sorted"||e==="reversed"?e:"random"}resetArray(){const e=parseInt(this.sizeInput.value),t=this.getSelectedDistribution();this.visualizer.setArraySize(e),this.currentDistribution=t,this.currentArray=this.generateArray(e,t),this.visualizer.drawArray(this.currentArray),this.updateStats({comparisons:0,swaps:0,time:0}),this.applySoundSettings(),this.updateAlgorithmInfo(this.algorithmSelect.value)}async startDemo(){if(this.isRunning||this.isDemoMode)return;const e=Array.from(this.algorithmSelect.options).map(t=>t.value);e.length!==0&&(this.isDemoMode=!0,this.demoQueue=e.flatMap(t=>Ae.map(n=>({algorithm:t,distribution:n}))),this.demoAlgorithmSizes.clear(),this.demoOriginalSize=parseInt(this.sizeInput.value),this.demoOriginalSizeLabel=this.sizeValue.textContent??String(this.demoOriginalSize),this.demoOriginalSpeed=parseInt(this.speedInput.value),this.demoOriginalDistribution=this.getSelectedDistribution(),this.demoCurrentDistribution="random",this.speedInput.value=String(this.demoSpeed),this.speedValue.textContent=String(this.demoSpeed),this.visualizer.setSpeed(this.demoSpeed),this.soundToggle.checked||(this.soundToggle.checked=!0),this.visualizer.getAudioEngine().enable(),this.soundToggle.disabled=!0,this.demoButton.disabled=!0,this.startButton.disabled=!0,this.pauseButton.disabled=!0,this.algorithmSelect.disabled=!0,this.sizeInput.disabled=!0,this.speedInput.disabled=!0,this.layoutSelect.disabled=!0,this.distributionSelect.disabled=!0,this.soundCompareToggle.disabled=!0,this.soundSwapToggle.disabled=!0,this.soundAccessToggle.disabled=!0,this.benchmarkBaseSize===0&&(console.log("[Demo] Running benchmark..."),await this.runBenchmark(),console.log("[Demo] Benchmark completed")),this.runNextDemo())}runNextDemo(){if(!this.isDemoMode)return;if(this.demoQueue.length===0){this.isDemoMode=!1,this.demoBaseArray=[],this.demoButton.disabled=!1,this.startButton.disabled=!1,this.pauseButton.disabled=!0,this.algorithmSelect.disabled=!1,this.sizeInput.disabled=!1,this.speedInput.disabled=!1,this.layoutSelect.disabled=!1,this.soundToggle.disabled=!1,this.soundCompareToggle.disabled=!1,this.soundSwapToggle.disabled=!1,this.soundAccessToggle.disabled=!1,this.distributionSelect.disabled=!1,this.demoOriginalSize>0&&(this.sizeInput.value=String(this.demoOriginalSize),this.sizeValue.textContent=this.demoOriginalSizeLabel||String(this.demoOriginalSize),this.visualizer.setArraySize(this.demoOriginalSize)),this.demoOriginalSpeed>0&&(this.speedInput.value=String(this.demoOriginalSpeed),this.speedValue.textContent=String(this.demoOriginalSpeed),this.visualizer.setSpeed(this.demoOriginalSpeed)),this.distributionSelect.value=this.demoOriginalDistribution,this.currentDistribution=this.getSelectedDistribution(),this.demoOriginalSize=0,this.demoOriginalSizeLabel="",this.demoOriginalSpeed=0,this.demoCurrentDistribution=this.getSelectedDistribution(),this.resetArray();return}const e=this.demoQueue.shift();if(!e){this.runNextDemo();return}const{algorithm:t,distribution:n}=e;this.demoCurrentDistribution=n;let r=this.demoAlgorithmSizes.get(t);n==="random"?(r=this.getDemoArraySize(t),this.demoAlgorithmSizes.set(t,r)):r===void 0&&(r=this.getDemoArraySize(t),this.demoAlgorithmSizes.set(t,r));const s=r??this.getDemoArraySize(t);this.sizeInput.value=String(s),this.sizeValue.textContent=String(s),this.visualizer.setArraySize(s),this.algorithmSelect.value=t,this.updateAlgorithmInfo(t),this.distributionSelect.value=n;const i=this.generateArray(s,n);this.currentDistribution=n,this.demoBaseArray=i,this.currentArray=[...i],this.visualizer.drawArray(this.currentArray),this.updateStats({comparisons:0,swaps:0,time:0}),setTimeout(()=>{this.isDemoMode&&(this.start(),this.pauseButton.disabled=!0)},this.demoStartDelay)}getSortGenerator(e,t){switch(e){case"bubble":return E(t);case"selection":return V(t);case"insertion":return _(t);case"quick":return F(t);case"quick-mt":return P(t);case"merge":return H(t);case"heap":return Z(t);case"shell":return K(t);case"comb":return X(t);case"cocktail":return Y(t);case"gnome":return J(t);case"library":return j(t);case"intro":return Q(t);case"odd-even":return $(t);case"cycle":return ee(t);case"pancake":return te(t);case"patience":return ie(t);case"tournament":return ne(t);case"smooth":return se(t);case"tim":return le(t);case"sleep":return de(t);case"bitonic":return W(t);case"bitonic-mt":return q(t);case"radix-lsd":return pe(t);case"radix-msd":return ue(t);case"radix-binary":return me(t);case"radix-hex":return ye(t);case"counting":return fe(t);case"bucket":return Se(t);case"pdq":return ce(t);case"block":return ge(t);case"spread":return he(t);default:return E(t)}}start(){if(this.isRunning){this.visualizer.isPausedState()&&this.currentGenerator&&(this.visualizer.resume(this.currentGenerator,n=>this.updateStats(n),()=>this.onComplete()),this.startButton.disabled=!0,this.pauseButton.disabled=!1);return}this.isRunning=!0;const e=this.algorithmSelect.value;console.log("[Main] Starting algorithm:",e);const t=this.getSortGenerator(e,this.currentArray);this.currentGenerator=t,console.log("[Main] Generator type:",t.constructor.name),this.visualizer.start(t,n=>this.updateStats(n),()=>this.onComplete()),this.startButton.disabled=!0,this.pauseButton.disabled=!1,this.algorithmSelect.disabled=!0,this.sizeInput.disabled=!0,this.isDemoMode&&(this.pauseButton.disabled=!0)}pause(){this.isRunning&&(this.visualizer.pause(),this.startButton.disabled=!1,this.pauseButton.disabled=!0)}reset(){this.visualizer.stop(),this.isRunning=!1,this.currentGenerator=null,this.isDemoMode=!1,this.demoQueue=[],this.demoBaseArray=[],this.demoAlgorithmSizes.clear(),this.demoOriginalSize>0&&(this.sizeInput.value=String(this.demoOriginalSize),this.sizeValue.textContent=this.demoOriginalSizeLabel||String(this.demoOriginalSize),this.visualizer.setArraySize(this.demoOriginalSize)),this.demoOriginalSpeed>0&&(this.speedInput.value=String(this.demoOriginalSpeed),this.speedValue.textContent=String(this.demoOriginalSpeed),this.visualizer.setSpeed(this.demoOriginalSpeed)),this.demoOriginalSize=0,this.demoOriginalSizeLabel="",this.demoOriginalSpeed=0,this.resetArray(),this.startButton.disabled=!1,this.pauseButton.disabled=!0,this.algorithmSelect.disabled=!1,this.sizeInput.disabled=!1,this.speedInput.disabled=!1,this.demoButton.disabled=!1,this.layoutSelect.disabled=!1,this.soundToggle.disabled=!1,this.soundCompareToggle.disabled=!1,this.soundSwapToggle.disabled=!1,this.soundAccessToggle.disabled=!1,this.distributionSelect.disabled=!1,this.applySoundSettings()}onComplete(){if(this.isRunning=!1,this.currentGenerator=null,this.isDemoMode){this.pauseButton.disabled=!0,setTimeout(()=>this.runNextDemo(),this.demoDelay);return}this.startButton.disabled=!1,this.pauseButton.disabled=!0,this.algorithmSelect.disabled=!1,this.sizeInput.disabled=!1,this.demoButton.disabled=!1,this.layoutSelect.disabled=!1,this.soundToggle.disabled=!1,this.soundCompareToggle.disabled=!1,this.soundSwapToggle.disabled=!1,this.soundAccessToggle.disabled=!1}updateStats(e){this.comparisonsDisplay.textContent=e.comparisons.toLocaleString(),this.swapsDisplay.textContent=e.swaps.toLocaleString(),this.timeDisplay.textContent=e.time.toFixed(2)+"s"}updateAlgorithmInfo(e){if(!this.algorithmInfoPanel)return;const t=R[e]??R.default,n=document.createDocumentFragment();t.forEach(r=>{const s=document.createElement("p");s.textContent=r,n.appendChild(s)}),this.algorithmInfoPanel.replaceChildren(n)}getSoundSettings(){return{compare:this.soundCompareToggle.checked,swap:this.soundSwapToggle.checked,access:this.soundAccessToggle.checked}}applySoundSettings(){this.visualizer.setSoundSettings(this.getSoundSettings())}async runBenchmark(){const n="quick";console.log("[Benchmark] Starting with size:",200,"speed:",this.demoSpeed),this.visualizer.setSpeed(this.demoSpeed);const r=this.generateArray(200,"random"),s=this.getSortGenerator(n,r);return new Promise(i=>{const a=performance.now();this.visualizer.start(s,()=>{},()=>{const p=(performance.now()-a)/1e3;console.log("[Benchmark] Completed in:",p,"seconds"),this.benchmarkFactor=17.5/p,this.benchmarkBaseSize=200,console.log("[Benchmark] Performance factor:",this.benchmarkFactor),this.visualizer.stop(),i()})})}calculateOptimalSize(e){if(this.benchmarkBaseSize===0)return k[e]||512;const t=Ie[e]||"nlogn",n=xe[e]||1,r=this.benchmarkBaseSize,s=this.benchmarkFactor;let i;t==="n2"?i=Math.floor(r*Math.sqrt(s)/n):t==="nlogn"?i=Math.floor(r*s/n):t==="n"?i=Math.floor(r*s*1.5/n):i=24;const a=k[e],l=a?Math.min(i,a):i,p=Math.max(16,Math.min(l,2048));return console.log(`[Size] ${e}: type=${t}, speed=${n}, size=${p}`),p}getDemoArraySize(e){if(this.benchmarkBaseSize>0)return this.calculateOptimalSize(e);const t=this.demoOriginalSize||parseInt(this.sizeInput.value),n=k[e],r=n?Math.min(t,n):t;return Math.max(4,r)}}new ve;
